---
import BaseLayout from '../layouts/BaseLayout.astro'
import { Image } from 'astro:assets'
import kids011 from '../assets/kids/kids-011-flip.webp'
import kids014 from '../assets/kids/kids-014.webp'
import graph from '../assets/income-graph-2022.png'
import school from '../assets/elm-wood.svg'

const pageTitle = 'News'

const data = [
  { name: '1-foe-autumn-term-newsletter-2023.pdf', icon:'🍂' },
  { name: '2-foe-spring-term-newsletter-2024.pdf', icon: '🌱' },
  { name: '3-foe-summer-term-newsletter-2024.pdf', icon: '🌻' },
  { name: '4-foe-autumn-term-newsletter-2024.pdf', icon: '🍂'},
  { name: '5-foe-spring-term-newsletter-2025.pdf', icon: '🌱'},
]

function fileToTitle ({name}) {
  const [number,,season,,,yearExt] = name.split('-')
  const [year] = yearExt.split('.')
  return `${number}. ${season} ${year}`
}

---

<BaseLayout pageTitle={pageTitle}>
  <main class="pb-24">
    <section class="bg-blue-400 max-w-3xl mx-auto pt-8 pb-24 px-3 sm:px-12">
      <h1 class="text-white text-3xl font-bold pb-10 flex justify-between">
        News <span class="text-4xl">📰</span>
      </h1>
      <p class="text-2xl font-bold text-black">Catch up with our newsletters</p>
      <ul class="pt-8">
        {data.reverse().map(row => (
          <li class="capitalize pb-4">
            <a class="block text-white text-xl font-bold" href={`/news/${row.name}`}>
            <span class="mr-2 text-3xl inline-block bg-zinc-100 text-center px-3 py-2 rounded-xl align-middle">{row.icon}</span>
            <span class="hover:underline">{fileToTitle(row)}</span>
            </a>
          </li>
        ))}
      </ul>
      </section>
    <div class="text-center -mt-12">
      <Image src={school} alt="" class="inline-block" width={900} />
    </div>
  </main>
</BaseLayout>
